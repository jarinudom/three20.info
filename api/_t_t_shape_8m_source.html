<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Three20 API: TTShape.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<div id="page-wrapper">
<div id="page">
<div id="pageheader">
  <div class="fixedwidth">
    <div class="title"><a href="http://three20.info/">three20<span class="subtitle">.info</span></a></div>
    <ul>
      <li><a href="/">API</a></li>
      <li><a href="http://three20.info/blog">News</a></li>
      <li><a href="http://three20.info/issues">Issues</a></li>
      <li><a href="http://three20.info/contribute">Contribute</a></li>
    </ul>
  </div>
</div>
<div id="pageheadershadow"></div>

<div class="largefixedwidth">
<div id="content">
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>TTShape.m</h1><a href="_t_t_shape_8m.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//</span>
<a name="l00002"></a>00002 <span class="comment">// Copyright 2009 Facebook</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00005"></a>00005 <span class="comment">// you may not use this file except in compliance with the License.</span>
<a name="l00006"></a>00006 <span class="comment">// You may obtain a copy of the License at</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">//    http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">// Unless required by applicable law or agreed to in writing, software</span>
<a name="l00011"></a>00011 <span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00012"></a>00012 <span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00013"></a>00013 <span class="comment">// See the License for the specific language governing permissions and</span>
<a name="l00014"></a>00014 <span class="comment">// limitations under the License.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#import &quot;<a class="code" href="_t_t_shape_8h.html">Three20/TTShape.h</a>&quot;</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#import &quot;<a class="code" href="_t_t_global_u_i_8h.html">Three20/TTGlobalUI.h</a>&quot;</span>
<a name="l00020"></a>00020 
<a name="l00022"></a>00022 <span class="comment">// global</span>
<a name="l00023"></a>00023 
<a name="l00024"></a><a class="code" href="_t_t_shape_8m.html#a40b6a47a94ddf72ea2d74dc72701ae0a">00024</a> <span class="keyword">static</span> <a class="code" href="interface_t_t_rectangle_shape.html">TTRectangleShape</a>* <a class="code" href="_t_t_shape_8m.html#a40b6a47a94ddf72ea2d74dc72701ae0a">sharedRectangleShape</a> = nil;
<a name="l00025"></a>00025 
<a name="l00026"></a><a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">00026</a> <span class="keyword">static</span> <span class="keyword">const</span> CGFloat <a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a> = 2.8;
<a name="l00027"></a><a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">00027</a> <span class="keyword">static</span> <span class="keyword">const</span> CGFloat <a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a> = 2;
<a name="l00028"></a><a class="code" href="_t_t_shape_8m.html#a815e081d904845b4b90cb56bee867cfc">00028</a> <span class="keyword">static</span> CGFloat <a class="code" href="_t_t_shape_8m.html#a815e081d904845b4b90cb56bee867cfc">kInsetWidth</a> = 5;
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">00030</a> <span class="preprocessor">#define RD(_RADIUS) (_RADIUS == TT_ROUNDED ? round(fh/2) : _RADIUS)</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">@implementation </span><a class="code" href="interface_t_t_shape.html">TTShape</a>
<a name="l00035"></a>00035 
<a name="l00037"></a>00037 <span class="comment">// public</span>
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">00039</a> - (void)openPath:(CGRect)rect {
<a name="l00040"></a>00040   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00041"></a>00041   CGContextSaveGState(context);
<a name="l00042"></a>00042   CGContextTranslateCTM(context, CGRectGetMinX(rect), CGRectGetMinY(rect));
<a name="l00043"></a>00043   CGContextBeginPath(context);
<a name="l00044"></a>00044 }
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">00046</a> - (void)closePath:(CGRect)rect {
<a name="l00047"></a>00047   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00048"></a>00048   CGContextClosePath(context);
<a name="l00049"></a>00049   CGContextRestoreGState(context);
<a name="l00050"></a>00050 }
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="interface_t_t_shape.html#a10bb79ce6661d0f1ef74f841d39eb0b9">00052</a> - (UIEdgeInsets)insetsForSize:(CGSize)size {
<a name="l00053"></a>00053   <span class="keywordflow">return</span> UIEdgeInsetsZero;
<a name="l00054"></a>00054 }
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="interface_t_t_shape.html#ac7e23625ff549bed6975956bf91cff33">00056</a> - (void)addTopEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00057"></a>00057 }
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="interface_t_t_shape.html#a0164af245f327b826d392e9f1023637b">00059</a> - (void)addRightEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="interface_t_t_shape.html#a7df0bda4370dabf62784363d7093be39">00062</a> - (void)addBottomEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="interface_t_t_shape.html#a8825b77343378cf67eee0f561890879a">00065</a> - (void)addLeftEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00066"></a>00066 }
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="interface_t_t_shape.html#acc23bcd703aff2c4e2f35275b0ac6292">00068</a> - (void)addToPath:(CGRect)rect {
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="interface_t_t_shape.html#af3806464a794c2c0ee22a4b428b9ac98">00071</a> - (void)addInverseToPath:(CGRect)rect {
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="keyword">@end</span>
<a name="l00075"></a>00075 
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="keyword">@implementation </span><a class="code" href="interface_t_t_rectangle_shape.html">TTRectangleShape</a>
<a name="l00079"></a>00079 
<a name="l00081"></a>00081 <span class="comment">// class public</span>
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="interface_t_t_rectangle_shape.html#af88f1f29fcc1b86d99879b33eabd9057">00083</a> + (<a class="code" href="interface_t_t_rectangle_shape.html">TTRectangleShape</a>*)<a class="code" href="interface_t_t_rectangle_shape.html#af88f1f29fcc1b86d99879b33eabd9057">shape</a> {
<a name="l00084"></a>00084   <span class="keywordflow">if</span> (!sharedRectangleShape) {
<a name="l00085"></a>00085     sharedRectangleShape = [[<a class="code" href="interface_t_t_rectangle_shape.html">TTRectangleShape</a> alloc] init];
<a name="l00086"></a>00086   }
<a name="l00087"></a>00087   <span class="keywordflow">return</span> sharedRectangleShape;
<a name="l00088"></a>00088 }
<a name="l00089"></a>00089 
<a name="l00091"></a>00091 <span class="comment">// public</span>
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="interface_t_t_rectangle_shape.html#ac7202723b53c33f77b4e85b4ad0fd11f">00093</a> - (void)addToPath:(CGRect)rect {
<a name="l00094"></a>00094   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00095"></a>00095 
<a name="l00096"></a>00096   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00097"></a>00097   CGContextAddRect(context, CGRectMake(0, 0, rect.size.width, rect.size.height));
<a name="l00098"></a>00098 
<a name="l00099"></a>00099   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00100"></a>00100 }
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="interface_t_t_rectangle_shape.html#a6dd9f260e48af87fa20140e749ba40c0">00102</a> - (void)addInverseToPath:(CGRect)rect {
<a name="l00103"></a>00103   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00104"></a>00104 
<a name="l00105"></a>00105   CGFloat fw = rect.size.width;
<a name="l00106"></a>00106   CGFloat fh = rect.size.height;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108   CGFloat width = 5;
<a name="l00109"></a>00109   CGRect shadowRect = CGRectMake(-width, -width, fw+width*2, fh+width*2);
<a name="l00110"></a>00110   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00111"></a>00111   CGPathAddRect(path, nil, shadowRect);
<a name="l00112"></a>00112   CGPathCloseSubpath(path);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114   CGPathAddRect(path, nil, rect);
<a name="l00115"></a>00115   CGPathCloseSubpath(path);
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00118"></a>00118   CGContextAddPath(context, path);
<a name="l00119"></a>00119   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   CGPathRelease(path);
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="interface_t_t_rectangle_shape.html#abd533e6b009fa604992ad3f623325deb">00124</a> - (void)addTopEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00125"></a>00125   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00126"></a>00126   CGFloat fw = rect.size.width;
<a name="l00127"></a>00127   
<a name="l00128"></a>00128   CGContextMoveToPoint(context, 0, 0);
<a name="l00129"></a>00129   CGContextAddLineToPoint(context, fw, 0);
<a name="l00130"></a>00130 }
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="interface_t_t_rectangle_shape.html#ade9deb16691e6edc74dfd02ff18a5bee">00132</a> - (void)addRightEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00133"></a>00133   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00134"></a>00134   CGFloat fw = rect.size.width;
<a name="l00135"></a>00135   CGFloat fh = rect.size.height;
<a name="l00136"></a>00136   
<a name="l00137"></a>00137   CGContextMoveToPoint(context, fw, 0);
<a name="l00138"></a>00138   CGContextAddLineToPoint(context, fw, fh);
<a name="l00139"></a>00139 }
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="interface_t_t_rectangle_shape.html#a54921ef3ebd0826bf503b78017a0905f">00141</a> - (void)addBottomEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00142"></a>00142   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00143"></a>00143   CGFloat fw = rect.size.width;
<a name="l00144"></a>00144   CGFloat fh = rect.size.height;
<a name="l00145"></a>00145   
<a name="l00146"></a>00146   CGContextMoveToPoint(context, fw, fh);
<a name="l00147"></a>00147   CGContextAddLineToPoint(context, 0, fh);
<a name="l00148"></a>00148 }
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="interface_t_t_rectangle_shape.html#a4b45262285e2a7927d05b8c5e6f017d6">00150</a> - (void)addLeftEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00151"></a>00151   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00152"></a>00152   CGFloat fh = rect.size.height;
<a name="l00153"></a>00153   
<a name="l00154"></a>00154   CGContextMoveToPoint(context, 0, fh);
<a name="l00155"></a>00155   CGContextAddLineToPoint(context, 0, 0);
<a name="l00156"></a>00156 }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="keyword">@end</span>
<a name="l00159"></a>00159 
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="keyword">@implementation </span><a class="code" href="interface_t_t_rounded_rectangle_shape.html">TTRoundedRectangleShape</a>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="keyword">@synthesize</span> <a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7f8a6ba530e858bba21885e5526aa5ae">topLeftRadius</a> = <a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>, <a class="code" href="interface_t_t_rounded_rectangle_shape.html#aeb44697ce42770f8e0b00abb51db4677">topRightRadius</a> = <a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7d68271daac170c2885381da57d96b9c">_topRightRadius</a>,
<a name="l00165"></a>00165   <a class="code" href="interface_t_t_rounded_rectangle_shape.html#a0a9cebeebe0b3b9a1498b1210b0dd607">bottomRightRadius</a> = <a class="code" href="interface_t_t_rounded_rectangle_shape.html#a145382c540219f73f61dea9b5347a815">_bottomRightRadius</a>, <a class="code" href="interface_t_t_rounded_rectangle_shape.html#ad4dec746e4418dcad183d4dbdb68af75">bottomLeftRadius</a> = <a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9045482bbcb266a7229d732a3fb7ea04">_bottomLeftRadius</a>;
<a name="l00166"></a>00166 
<a name="l00168"></a>00168 <span class="comment">// class public</span>
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#a121c64a12d35bc27b08a2a80558acbef">00170</a> + (<a class="code" href="interface_t_t_rounded_rectangle_shape.html">TTRoundedRectangleShape</a>*)shapeWithRadius:(CGFloat)radius {
<a name="l00171"></a>00171   <a class="code" href="interface_t_t_rounded_rectangle_shape.html">TTRoundedRectangleShape</a>* shape = [[[<a class="code" href="interface_t_t_rounded_rectangle_shape.html">TTRoundedRectangleShape</a> alloc] init] autorelease];
<a name="l00172"></a>00172   shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7f8a6ba530e858bba21885e5526aa5ae">topLeftRadius</a> = shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#aeb44697ce42770f8e0b00abb51db4677">topRightRadius</a> = shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a0a9cebeebe0b3b9a1498b1210b0dd607">bottomRightRadius</a> = shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ad4dec746e4418dcad183d4dbdb68af75">bottomLeftRadius</a>
<a name="l00173"></a>00173     = radius;
<a name="l00174"></a>00174   <span class="keywordflow">return</span> shape;
<a name="l00175"></a>00175 }
<a name="l00176"></a>00176 
<a name="l00177"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#a0a0acd728318165df8459656379b0fdf">00177</a> + (<a class="code" href="interface_t_t_rounded_rectangle_shape.html">TTRoundedRectangleShape</a>*)shapeWithTopLeft:(CGFloat)topLeft topRight:(CGFloat)topRight
<a name="l00178"></a>00178       bottomRight:(CGFloat)bottomRight bottomLeft:(CGFloat)bottomLeft {
<a name="l00179"></a>00179   <a class="code" href="interface_t_t_rounded_rectangle_shape.html">TTRoundedRectangleShape</a>* shape = [[[<a class="code" href="interface_t_t_rounded_rectangle_shape.html">TTRoundedRectangleShape</a> alloc] init] autorelease];
<a name="l00180"></a>00180   shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7f8a6ba530e858bba21885e5526aa5ae">topLeftRadius</a> = topLeft;
<a name="l00181"></a>00181   shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#aeb44697ce42770f8e0b00abb51db4677">topRightRadius</a> = topRight;
<a name="l00182"></a>00182   shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a0a9cebeebe0b3b9a1498b1210b0dd607">bottomRightRadius</a> = bottomRight;
<a name="l00183"></a>00183   shape.<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ad4dec746e4418dcad183d4dbdb68af75">bottomLeftRadius</a> = bottomLeft;
<a name="l00184"></a>00184   <span class="keywordflow">return</span> shape;
<a name="l00185"></a>00185 }      
<a name="l00186"></a>00186 
<a name="l00188"></a>00188 <span class="comment">// public</span>
<a name="l00189"></a>00189 
<a name="l00190"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#aa2b75d50e3eb3f5182863fff5aadeb7f">00190</a> - (void)addToPath:(CGRect)rect {
<a name="l00191"></a>00191   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00192"></a>00192 
<a name="l00193"></a>00193   CGFloat fw = rect.size.width;
<a name="l00194"></a>00194   CGFloat fh = rect.size.height;
<a name="l00195"></a>00195 
<a name="l00196"></a>00196   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00197"></a>00197   CGContextMoveToPoint(context, fw, floor(fh/2));
<a name="l00198"></a>00198   CGContextAddArcToPoint(context, fw, fh, floor(fw/2), fh, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a145382c540219f73f61dea9b5347a815">_bottomRightRadius</a>));
<a name="l00199"></a>00199   CGContextAddArcToPoint(context, 0, fh, 0, floor(fh/2), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9045482bbcb266a7229d732a3fb7ea04">_bottomLeftRadius</a>));
<a name="l00200"></a>00200   CGContextAddArcToPoint(context, 0, 0, floor(fw/2), 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>));
<a name="l00201"></a>00201   CGContextAddArcToPoint(context, fw, 0, fw, floor(fh/2), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7d68271daac170c2885381da57d96b9c">_topRightRadius</a>));
<a name="l00202"></a>00202 
<a name="l00203"></a>00203   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00204"></a>00204 }
<a name="l00205"></a>00205 
<a name="l00206"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#acff3be4f5b46077645b3496a42a574bc">00206</a> - (void)addInverseToPath:(CGRect)rect {
<a name="l00207"></a>00207   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00208"></a>00208 
<a name="l00209"></a>00209   CGFloat fw = rect.size.width;
<a name="l00210"></a>00210   CGFloat fh = rect.size.height;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   CGFloat width = 5;
<a name="l00213"></a>00213   CGRect shadowRect = CGRectMake(-width, -width, fw+width*2, fh+width*2);
<a name="l00214"></a>00214   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00215"></a>00215   CGPathAddRect(path, nil, shadowRect);
<a name="l00216"></a>00216   CGPathCloseSubpath(path);
<a name="l00217"></a>00217 
<a name="l00218"></a>00218   CGPathMoveToPoint(path, nil, fw, floor(fh/2));
<a name="l00219"></a>00219   CGPathAddArcToPoint(path, nil, fw, fh, floor(fw/2), fh, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a145382c540219f73f61dea9b5347a815">_bottomRightRadius</a>));
<a name="l00220"></a>00220   CGPathAddArcToPoint(path, nil, 0, fh, 0, floor(fh/2), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9045482bbcb266a7229d732a3fb7ea04">_bottomLeftRadius</a>));
<a name="l00221"></a>00221   CGPathAddArcToPoint(path, nil, 0, 0, floor(fw/2), 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>));
<a name="l00222"></a>00222   CGPathAddArcToPoint(path, nil, fw, 0, fw, floor(fh/2), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7d68271daac170c2885381da57d96b9c">_topRightRadius</a>));
<a name="l00223"></a>00223   CGPathCloseSubpath(path);
<a name="l00224"></a>00224 
<a name="l00225"></a>00225   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00226"></a>00226   CGContextAddPath(context, path);
<a name="l00227"></a>00227   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00228"></a>00228 
<a name="l00229"></a>00229   CGPathRelease(path);
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 
<a name="l00232"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9c9f383117c7fd2c880176503e630f7e">00232</a> - (void)addTopEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00233"></a>00233   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00234"></a>00234   CGFloat fw = rect.size.width;
<a name="l00235"></a>00235   CGFloat fh = rect.size.height;
<a name="l00236"></a>00236   
<a name="l00237"></a>00237   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00238"></a>00238     CGContextMoveToPoint(context, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>), 0);
<a name="l00239"></a>00239   } <span class="keywordflow">else</span> {
<a name="l00240"></a>00240     CGContextMoveToPoint(context, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>));
<a name="l00241"></a>00241     CGContextAddArcToPoint(context, 0, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>), 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>));
<a name="l00242"></a>00242   }
<a name="l00243"></a>00243   CGContextAddArcToPoint(context, fw, 0, fw, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7d68271daac170c2885381da57d96b9c">_topRightRadius</a>), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7d68271daac170c2885381da57d96b9c">_topRightRadius</a>));
<a name="l00244"></a>00244   CGContextAddLineToPoint(context, fw, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7d68271daac170c2885381da57d96b9c">_topRightRadius</a>));
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#ae6dd31f00b05c37ca517c9f0f89a1af1">00247</a> - (void)addRightEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00248"></a>00248   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00249"></a>00249   CGFloat fw = rect.size.width;
<a name="l00250"></a>00250   CGFloat fh = rect.size.height;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252   CGContextMoveToPoint(context, fw, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a7d68271daac170c2885381da57d96b9c">_topRightRadius</a>));
<a name="l00253"></a>00253   CGContextAddArcToPoint(context, fw, fh, fw-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a145382c540219f73f61dea9b5347a815">_bottomRightRadius</a>), fh, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a145382c540219f73f61dea9b5347a815">_bottomRightRadius</a>));
<a name="l00254"></a>00254   CGContextAddLineToPoint(context, fw-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a145382c540219f73f61dea9b5347a815">_bottomRightRadius</a>), fh);
<a name="l00255"></a>00255 }
<a name="l00256"></a>00256 
<a name="l00257"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#a6bbbc9c4d7d3db2496ddeac4f96a872e">00257</a> - (void)addBottomEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00258"></a>00258   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00259"></a>00259   CGFloat fw = rect.size.width;
<a name="l00260"></a>00260   CGFloat fh = rect.size.height;
<a name="l00261"></a>00261 
<a name="l00262"></a>00262   CGContextMoveToPoint(context, fw-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a145382c540219f73f61dea9b5347a815">_bottomRightRadius</a>), fh);
<a name="l00263"></a>00263   CGContextAddLineToPoint(context, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9045482bbcb266a7229d732a3fb7ea04">_bottomLeftRadius</a>), fh);
<a name="l00264"></a>00264   CGContextAddArcToPoint(context, 0, fh, 0, fh-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9045482bbcb266a7229d732a3fb7ea04">_bottomLeftRadius</a>), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9045482bbcb266a7229d732a3fb7ea04">_bottomLeftRadius</a>));
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
<a name="l00267"></a><a class="code" href="interface_t_t_rounded_rectangle_shape.html#a355e4f2c90f7ffcef8977cba79fc3953">00267</a> - (void)addLeftEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00268"></a>00268   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00269"></a>00269   CGFloat fh = rect.size.height;
<a name="l00270"></a>00270   
<a name="l00271"></a>00271   CGContextMoveToPoint(context, 0, fh-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#a9045482bbcb266a7229d732a3fb7ea04">_bottomLeftRadius</a>));
<a name="l00272"></a>00272   CGContextAddLineToPoint(context, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>));
<a name="l00273"></a>00273 
<a name="l00274"></a>00274   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00275"></a>00275     CGContextAddArcToPoint(context, 0, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>), 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_rectangle_shape.html#ab9f283e051db640b423130305b056d9e">_topLeftRadius</a>));
<a name="l00276"></a>00276   }
<a name="l00277"></a>00277 }
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 <span class="comment">//- (UIEdgeInsets)insetsForSize:(CGSize)size {</span>
<a name="l00280"></a>00280 <span class="comment">//  CGFloat fh = size.height/3;</span>
<a name="l00281"></a>00281 <span class="comment">//  return UIEdgeInsetsMake(floor(MAX(RD(_topLeftRadius), RD(_topRightRadius))),</span>
<a name="l00282"></a>00282 <span class="comment">//                          floor(MAX(RD(_topLeftRadius), RD(_bottomLeftRadius))),</span>
<a name="l00283"></a>00283 <span class="comment">//                          floor(MAX(RD(_bottomLeftRadius), RD(_bottomRightRadius))),</span>
<a name="l00284"></a>00284 <span class="comment">//                          floor(MAX(RD(_topRightRadius), RD(_bottomRightRadius))));</span>
<a name="l00285"></a>00285 <span class="comment">//}</span>
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 <span class="keyword">@end</span>
<a name="l00288"></a>00288 
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 <span class="keyword">@implementation </span><a class="code" href="interface_t_t_rounded_right_arrow_shape.html">TTRoundedRightArrowShape</a>
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="keyword">@synthesize</span> <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a> = <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#af100789a4e5f7e3126d4195242f9aa9b">_radius</a>;
<a name="l00294"></a>00294 
<a name="l00296"></a>00296 <span class="comment">// class public</span>
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="interface_t_t_rounded_right_arrow_shape.html#adfd07ddbe4f08de86ad68653c0504337">00298</a> + (<a class="code" href="interface_t_t_rounded_right_arrow_shape.html">TTRoundedRightArrowShape</a>*)shapeWithRadius:(CGFloat)radius {
<a name="l00299"></a>00299   <a class="code" href="interface_t_t_rounded_right_arrow_shape.html">TTRoundedRightArrowShape</a>* shape = [[[<a class="code" href="interface_t_t_rounded_right_arrow_shape.html">TTRoundedRightArrowShape</a> alloc] init] autorelease];
<a name="l00300"></a>00300   shape.<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a> = <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>;
<a name="l00301"></a>00301   <span class="keywordflow">return</span> shape;
<a name="l00302"></a>00302 }
<a name="l00303"></a>00303 
<a name="l00305"></a>00305 <span class="comment">// public</span>
<a name="l00306"></a>00306 
<a name="l00307"></a><a class="code" href="interface_t_t_rounded_right_arrow_shape.html#a07f61f583ba80cc8eeaf72d4be4edd72">00307</a> - (void)addToPath:(CGRect)rect {
<a name="l00308"></a>00308   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00309"></a>00309 
<a name="l00310"></a>00310   CGFloat fw = rect.size.width;
<a name="l00311"></a>00311   CGFloat fh = rect.size.height;
<a name="l00312"></a>00312   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00313"></a>00313   CGFloat <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#af100789a4e5f7e3126d4195242f9aa9b">_radius</a>);
<a name="l00314"></a>00314   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00315"></a>00315   
<a name="l00316"></a>00316   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00317"></a>00317   CGContextMoveToPoint(context, fw, floor(fh/2));
<a name="l00318"></a>00318   CGContextAddArcToPoint(context, fw-point, fh, 0, fh, radius2);
<a name="l00319"></a>00319   CGContextAddArcToPoint(context, 0, fh, 0, 0, <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>);
<a name="l00320"></a>00320   CGContextAddArcToPoint(context, 0, 0, fw-point, 0, <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>);
<a name="l00321"></a>00321   CGContextAddArcToPoint(context, fw-point, 0, fw, floor(fh/2), radius2);
<a name="l00322"></a>00322   CGContextAddLineToPoint(context, fw, floor(fh/2));
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 
<a name="l00327"></a><a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afd1cab30db9edc091d422fcd8b909ec9">00327</a> - (void)addTopEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00328"></a>00328   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00329"></a>00329   CGFloat fw = rect.size.width;
<a name="l00330"></a>00330   CGFloat fh = rect.size.height;
<a name="l00331"></a>00331   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00332"></a>00332   CGFloat <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#af100789a4e5f7e3126d4195242f9aa9b">_radius</a>);
<a name="l00333"></a>00333   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00334"></a>00334   
<a name="l00335"></a>00335   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00336"></a>00336     CGContextMoveToPoint(context, <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>, 0);
<a name="l00337"></a>00337   } <span class="keywordflow">else</span> {
<a name="l00338"></a>00338     CGContextMoveToPoint(context, 0, <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>);
<a name="l00339"></a>00339     CGContextAddArcToPoint(context, 0, 0, <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>, 0, <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>);
<a name="l00340"></a>00340   }
<a name="l00341"></a>00341   CGContextAddLineToPoint(context, fw-(point+radius2), 0);
<a name="l00342"></a>00342   CGContextAddArcToPoint(context, fw-point, 0, fw, floor(fh/2), radius2);
<a name="l00343"></a>00343   CGContextAddLineToPoint(context, fw, floor(fh/2));
<a name="l00344"></a>00344 }
<a name="l00345"></a>00345 
<a name="l00346"></a><a class="code" href="interface_t_t_rounded_right_arrow_shape.html#a4fa0079f1c2eb3b739e2ab9c4a785e94">00346</a> - (void)addRightEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00347"></a>00347   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00348"></a>00348   CGFloat fw = rect.size.width;
<a name="l00349"></a>00349   CGFloat fh = rect.size.height;
<a name="l00350"></a>00350   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00351"></a>00351   CGFloat <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#af100789a4e5f7e3126d4195242f9aa9b">_radius</a>);
<a name="l00352"></a>00352   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00353"></a>00353   
<a name="l00354"></a>00354   CGContextMoveToPoint(context, fw, floor(fh/2));
<a name="l00355"></a>00355   CGContextAddArcToPoint(context, fw-point, fh, fw-(point+radius2), fh, radius2);
<a name="l00356"></a>00356   CGContextAddLineToPoint(context, fw-(point+radius2), fh);
<a name="l00357"></a>00357 }
<a name="l00358"></a>00358 
<a name="l00359"></a><a class="code" href="interface_t_t_rounded_right_arrow_shape.html#ae4279057bc6d8bd07191767cdfece83e">00359</a> - (void)addBottomEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00360"></a>00360   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00361"></a>00361   CGFloat fw = rect.size.width;
<a name="l00362"></a>00362   CGFloat fh = rect.size.height;
<a name="l00363"></a>00363   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00364"></a>00364   CGFloat <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#af100789a4e5f7e3126d4195242f9aa9b">_radius</a>);
<a name="l00365"></a>00365   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367   CGContextMoveToPoint(context, floor(fw-(point+radius2)), fh);
<a name="l00368"></a>00368   CGContextAddArcToPoint(context, 0, fh, 0, floor(fh-<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>), <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>);
<a name="l00369"></a>00369 }
<a name="l00370"></a>00370 
<a name="l00371"></a><a class="code" href="interface_t_t_rounded_right_arrow_shape.html#aed5f2fd9e435e6d4be14181c15f7783d">00371</a> - (void)addLeftEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00372"></a>00372   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00373"></a>00373   CGFloat fh = rect.size.height;
<a name="l00374"></a>00374   CGFloat <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#af100789a4e5f7e3126d4195242f9aa9b">_radius</a>);
<a name="l00375"></a>00375 
<a name="l00376"></a>00376   CGContextMoveToPoint(context, 0, floor(fh-<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>));
<a name="l00377"></a>00377   CGContextAddLineToPoint(context, 0, floor(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>));
<a name="l00378"></a>00378 
<a name="l00379"></a>00379   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00380"></a>00380     CGContextAddArcToPoint(context, 0, 0, floor(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>), 0, <a class="code" href="interface_t_t_rounded_right_arrow_shape.html#afac3474b55807cb18970ef882ef3f044">radius</a>);
<a name="l00381"></a>00381   }
<a name="l00382"></a>00382 }
<a name="l00383"></a>00383 
<a name="l00384"></a><a class="code" href="interface_t_t_rounded_right_arrow_shape.html#a74806d33eee2186794119bc38ebf3a90">00384</a> - (UIEdgeInsets)insetsForSize:(CGSize)size {
<a name="l00385"></a>00385   CGFloat fh = size.height/3;
<a name="l00386"></a>00386   <span class="keywordflow">return</span> UIEdgeInsetsMake(0, 0, 0, floor(<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_right_arrow_shape.html#af100789a4e5f7e3126d4195242f9aa9b">_radius</a>)));
<a name="l00387"></a>00387 <span class="comment">//  CGFloat fh = size.height/3;</span>
<a name="l00388"></a>00388 <span class="comment">//  return UIEdgeInsetsMake(floor(RD(_radius)), floor(RD(_radius)),</span>
<a name="l00389"></a>00389 <span class="comment">//                          floor(RD(_radius)), floor(RD(_radius))*2);</span>
<a name="l00390"></a>00390 }
<a name="l00391"></a>00391 
<a name="l00392"></a>00392 <span class="keyword">@end</span>
<a name="l00393"></a>00393 
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="keyword">@implementation </span><a class="code" href="interface_t_t_rounded_left_arrow_shape.html">TTRoundedLeftArrowShape</a>
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 <span class="keyword">@synthesize</span> <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>;
<a name="l00399"></a>00399 
<a name="l00401"></a>00401 <span class="comment">// class public</span>
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a8ba412403e94cbbbbc18e55a4085625c">00403</a> + (<a class="code" href="interface_t_t_rounded_left_arrow_shape.html">TTRoundedLeftArrowShape</a>*)shapeWithRadius:(CGFloat)radius {
<a name="l00404"></a>00404   <a class="code" href="interface_t_t_rounded_left_arrow_shape.html">TTRoundedLeftArrowShape</a>* shape = [[[<a class="code" href="interface_t_t_rounded_left_arrow_shape.html">TTRoundedLeftArrowShape</a> alloc] init] autorelease];
<a name="l00405"></a>00405   shape.<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>;
<a name="l00406"></a>00406   <span class="keywordflow">return</span> shape;
<a name="l00407"></a>00407 }
<a name="l00408"></a>00408 
<a name="l00410"></a>00410 <span class="comment">// public</span>
<a name="l00411"></a>00411 
<a name="l00412"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#ac20923ab633b68d174fc05164fa5e77b">00412</a> - (void)addToPath:(CGRect)rect {
<a name="l00413"></a>00413   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00414"></a>00414 
<a name="l00415"></a>00415   CGFloat fw = rect.size.width;
<a name="l00416"></a>00416   CGFloat fh = rect.size.height;
<a name="l00417"></a>00417   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00418"></a>00418   CGFloat <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>);
<a name="l00419"></a>00419   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00420"></a>00420   
<a name="l00421"></a>00421   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00422"></a>00422   CGContextMoveToPoint(context, 0, floor(fh/2));
<a name="l00423"></a>00423   CGContextAddArcToPoint(context, point, 0, floor(fw-<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), 0, radius2);
<a name="l00424"></a>00424   CGContextAddArcToPoint(context, fw, 0, fw, floor(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00425"></a>00425   CGContextAddArcToPoint(context, fw, fh, floor(point+radius2), fh, <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00426"></a>00426   CGContextAddArcToPoint(context, point, fh, 0, floor(fh/2), radius2);
<a name="l00427"></a>00427 
<a name="l00428"></a>00428   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00429"></a>00429 }
<a name="l00430"></a>00430 
<a name="l00431"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a8640ca1fada947d6f54559e55e86141a">00431</a> - (void)addInverseToPath:(CGRect)rect {
<a name="l00432"></a>00432   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00433"></a>00433   CGFloat fw = rect.size.width;
<a name="l00434"></a>00434   CGFloat fh = rect.size.height;
<a name="l00435"></a>00435   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00436"></a>00436   CGFloat <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>);
<a name="l00437"></a>00437   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00438"></a>00438 
<a name="l00439"></a>00439   CGFloat width = 5;
<a name="l00440"></a>00440   CGRect shadowRect = CGRectMake(-width, -width, fw+width*2, fh+width*2);
<a name="l00441"></a>00441   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00442"></a>00442   CGPathAddRect(path, nil, shadowRect);
<a name="l00443"></a>00443   CGPathCloseSubpath(path);
<a name="l00444"></a>00444   
<a name="l00445"></a>00445   CGPathMoveToPoint(path, nil, 0, floor(fh/2));
<a name="l00446"></a>00446   CGPathAddArcToPoint(path, nil, point, 0, floor(fw-<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), 0, radius2);
<a name="l00447"></a>00447   CGPathAddArcToPoint(path, nil, fw, 0, fw, floor(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00448"></a>00448   CGPathAddArcToPoint(path, nil, fw, fh, floor(point+radius2), fh, <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00449"></a>00449   CGPathAddArcToPoint(path, nil, point, fh, 0, floor(fh/2), radius2);
<a name="l00450"></a>00450 
<a name="l00451"></a>00451   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00452"></a>00452   CGContextAddPath(context, path);
<a name="l00453"></a>00453   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00454"></a>00454 
<a name="l00455"></a>00455   CGPathRelease(path);
<a name="l00456"></a>00456 }
<a name="l00457"></a>00457 
<a name="l00458"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a244f2bb4f79b1a3b3ad6a2d8427820f3">00458</a> - (void)addTopEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00459"></a>00459   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00460"></a>00460   CGFloat fw = rect.size.width;
<a name="l00461"></a>00461   CGFloat fh = rect.size.height;
<a name="l00462"></a>00462   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00463"></a>00463   CGFloat <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>);
<a name="l00464"></a>00464   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00465"></a>00465   
<a name="l00466"></a>00466   CGContextMoveToPoint(context, 0, floor(fh/2));
<a name="l00467"></a>00467   CGContextAddArcToPoint(context, point, 0, floor(fw-<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), 0, radius2);
<a name="l00468"></a>00468 
<a name="l00469"></a>00469   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00470"></a>00470     CGContextAddLineToPoint(context, floor(fw-<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), 0);
<a name="l00471"></a>00471   } <span class="keywordflow">else</span> {
<a name="l00472"></a>00472     CGContextAddArcToPoint(context, fw, 0, fw, floor(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00473"></a>00473   }
<a name="l00474"></a>00474 }
<a name="l00475"></a>00475 
<a name="l00476"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#af8bffb84f9164c38dca37cd3c7c8226e">00476</a> - (void)addRightEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00477"></a>00477   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00478"></a>00478   CGFloat fw = rect.size.width;
<a name="l00479"></a>00479   CGFloat fh = rect.size.height;
<a name="l00480"></a>00480   CGFloat <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>);
<a name="l00481"></a>00481   
<a name="l00482"></a>00482   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00483"></a>00483     CGContextMoveToPoint(context, floor(fw-<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), 0);
<a name="l00484"></a>00484     CGContextAddArcToPoint(context, fw, 0, fw, floor(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>), <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00485"></a>00485   } <span class="keywordflow">else</span> {
<a name="l00486"></a>00486     CGContextMoveToPoint(context, fw, <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00487"></a>00487     CGContextAddLineToPoint(context, fw, fh-<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00488"></a>00488   }
<a name="l00489"></a>00489 }
<a name="l00490"></a>00490 
<a name="l00491"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#af1807bdf863178046965f6befe7412a3">00491</a> - (void)addBottomEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00492"></a>00492   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00493"></a>00493   CGFloat fw = rect.size.width;
<a name="l00494"></a>00494   CGFloat fh = rect.size.height;
<a name="l00495"></a>00495   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00496"></a>00496   CGFloat <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>);
<a name="l00497"></a>00497   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00498"></a>00498 
<a name="l00499"></a>00499   CGContextMoveToPoint(context, fw, floor(fh-<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>));
<a name="l00500"></a>00500   CGContextAddArcToPoint(context, fw, fh, floor(point+radius2), fh, <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>);
<a name="l00501"></a>00501   CGContextAddLineToPoint(context, floor(point+radius2)-1, fh);
<a name="l00502"></a>00502 }
<a name="l00503"></a>00503 
<a name="l00504"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#ac77180c2ae1ff2cece5849deddb242a9">00504</a> - (void)addLeftEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00505"></a>00505   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00506"></a>00506   CGFloat fh = rect.size.height;
<a name="l00507"></a>00507   CGFloat point = floor(fh/<a class="code" href="_t_t_shape_8m.html#acb7f95229df3459652150984fb91b285">kArrowPointWidth</a>);
<a name="l00508"></a>00508   CGFloat <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a> = <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>);
<a name="l00509"></a>00509   CGFloat radius2 = <a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a5fb63b40583a7871b696dcc350a82502">radius</a>*<a class="code" href="_t_t_shape_8m.html#aa0df371992ec568d6d02fc5308f593a7">kArrowRadius</a>;
<a name="l00510"></a>00510 
<a name="l00511"></a>00511   CGContextMoveToPoint(context, floor(point+radius2), fh);
<a name="l00512"></a>00512   CGContextAddArcToPoint(context, point, fh, 0, floor(fh/2), radius2);
<a name="l00513"></a>00513   CGContextAddLineToPoint(context, 0, floor(fh/2));
<a name="l00514"></a>00514 }
<a name="l00515"></a>00515 
<a name="l00516"></a><a class="code" href="interface_t_t_rounded_left_arrow_shape.html#ad292a58e8c9da573851cbae289ebf1b4">00516</a> - (UIEdgeInsets)insetsForSize:(CGSize)size {
<a name="l00517"></a>00517   CGFloat fh = size.height/3;
<a name="l00518"></a>00518   <span class="keywordflow">return</span> UIEdgeInsetsMake(0, floor(<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_rounded_left_arrow_shape.html#a9b7a85b3e1a831a1d36eb1f93bc2ab7e">_radius</a>)), 0, 0);
<a name="l00519"></a>00519 <span class="comment">//  CGFloat fh = size.height/3;</span>
<a name="l00520"></a>00520 <span class="comment">//  return UIEdgeInsetsMake(floor(RD(_radius)), floor(RD(_radius))*2,</span>
<a name="l00521"></a>00521 <span class="comment">//                          floor(RD(_radius)), floor(RD(_radius)));</span>
<a name="l00522"></a>00522 }
<a name="l00523"></a>00523 
<a name="l00524"></a>00524 <span class="keyword">@end</span>
<a name="l00525"></a>00525 
<a name="l00527"></a>00527 
<a name="l00528"></a>00528 <span class="keyword">@implementation </span><a class="code" href="interface_t_t_speech_bubble_shape.html">TTSpeechBubbleShape</a>
<a name="l00529"></a>00529 
<a name="l00530"></a>00530 <span class="keyword">@synthesize</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#a53838f24ff7beb3273132eab8b07813c">radius</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>, <a class="code" href="interface_t_t_speech_bubble_shape.html#a990ccff77c6c6b483585696d82440721">pointLocation</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a>, <a class="code" href="interface_t_t_speech_bubble_shape.html#a8b9125aea8986a0c659e50d794106730">pointAngle</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a>,
<a name="l00531"></a>00531             <a class="code" href="interface_t_t_speech_bubble_shape.html#a667dabf54ae5cd17cf77e9a3f59fe436">pointSize</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>;
<a name="l00532"></a>00532 
<a name="l00534"></a>00534 <span class="comment">// class public</span>
<a name="l00535"></a>00535 
<a name="l00536"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#a0eeb1cbb0f9f6b738819340f096d08a6">00536</a> + (<a class="code" href="interface_t_t_speech_bubble_shape.html">TTSpeechBubbleShape</a>*)shapeWithRadius:(CGFloat)radius pointLocation:(CGFloat)pointLocation
<a name="l00537"></a>00537                         pointAngle:(CGFloat)pointAngle pointSize:(CGSize)pointSize {
<a name="l00538"></a>00538   <a class="code" href="interface_t_t_speech_bubble_shape.html">TTSpeechBubbleShape</a>* shape = [[[<a class="code" href="interface_t_t_speech_bubble_shape.html">TTSpeechBubbleShape</a> alloc] init] autorelease];
<a name="l00539"></a>00539   shape.<a class="code" href="interface_t_t_speech_bubble_shape.html#a53838f24ff7beb3273132eab8b07813c">radius</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a53838f24ff7beb3273132eab8b07813c">radius</a>;
<a name="l00540"></a>00540   shape.<a class="code" href="interface_t_t_speech_bubble_shape.html#a990ccff77c6c6b483585696d82440721">pointLocation</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a990ccff77c6c6b483585696d82440721">pointLocation</a>;
<a name="l00541"></a>00541   shape.<a class="code" href="interface_t_t_speech_bubble_shape.html#a8b9125aea8986a0c659e50d794106730">pointAngle</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a8b9125aea8986a0c659e50d794106730">pointAngle</a>;
<a name="l00542"></a>00542   shape.<a class="code" href="interface_t_t_speech_bubble_shape.html#a667dabf54ae5cd17cf77e9a3f59fe436">pointSize</a> = <a class="code" href="interface_t_t_speech_bubble_shape.html#a667dabf54ae5cd17cf77e9a3f59fe436">pointSize</a>;
<a name="l00543"></a>00543   <span class="keywordflow">return</span> shape;
<a name="l00544"></a>00544 }
<a name="l00545"></a>00545 
<a name="l00547"></a>00547 <span class="comment">// private</span>
<a name="l00548"></a>00548 
<a name="l00549"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#aa355935e7730a2e6f3124bcc38d865d7">00549</a> - (CGRect)subtractPointFromRect:(CGRect)rect {
<a name="l00550"></a>00550   CGFloat x = 0;
<a name="l00551"></a>00551   CGFloat y = 0;
<a name="l00552"></a>00552   CGFloat w = rect.size.width;
<a name="l00553"></a>00553   CGFloat h = rect.size.height;
<a name="l00554"></a>00554 
<a name="l00555"></a>00555   <span class="keywordflow">if</span> ((<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &gt;= 0 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &lt; 45)
<a name="l00556"></a>00556       || (<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &gt;= 315 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &lt; 360)) {
<a name="l00557"></a>00557     <span class="keywordflow">if</span> ((<a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &gt;= 270 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &lt; 360) || (<a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &gt;= 0 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &lt; 90)) {
<a name="l00558"></a>00558       x += <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.width;
<a name="l00559"></a>00559       w -= <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.width;
<a name="l00560"></a>00560     }
<a name="l00561"></a>00561   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &gt;= 45 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &lt; 135) {
<a name="l00562"></a>00562     <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &gt;= 0 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &lt; 180) {
<a name="l00563"></a>00563       y += <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.height;
<a name="l00564"></a>00564       h -= <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.height;
<a name="l00565"></a>00565     }
<a name="l00566"></a>00566   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &gt;= 135 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &lt; 225) {
<a name="l00567"></a>00567     <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &gt;= 90 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &lt; 270) {
<a name="l00568"></a>00568       w -= <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.width;
<a name="l00569"></a>00569     }
<a name="l00570"></a>00570   } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &gt;= 225 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &lt;= 315) {
<a name="l00571"></a>00571     <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &gt;= 180 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &lt; 360) {
<a name="l00572"></a>00572       h -= <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.height;
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574   }
<a name="l00575"></a>00575   
<a name="l00576"></a>00576   <span class="keywordflow">return</span> CGRectMake(x, y, w, h);
<a name="l00577"></a>00577 }
<a name="l00578"></a>00578 
<a name="l00579"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">00579</a> - (void)addTopEdge:(CGSize)size lightSource:(NSInteger)lightSource toPath:(CGMutablePathRef)path
<a name="l00580"></a>00580         reset:(BOOL)reset {
<a name="l00581"></a>00581   CGFloat fw = size.width;
<a name="l00582"></a>00582   CGFloat fh = size.height;
<a name="l00583"></a>00583   CGFloat pointX = 0;
<a name="l00584"></a>00584 
<a name="l00585"></a>00585   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00586"></a>00586     <span class="keywordflow">if</span> (reset) {
<a name="l00587"></a>00587       CGPathMoveToPoint(path, nil, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), 0);
<a name="l00588"></a>00588     }
<a name="l00589"></a>00589   } <span class="keywordflow">else</span> {
<a name="l00590"></a>00590     <span class="keywordflow">if</span> (reset) {
<a name="l00591"></a>00591       CGPathMoveToPoint(path, nil, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00592"></a>00592     }
<a name="l00593"></a>00593     CGPathAddArcToPoint(path, nil, 0, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00594"></a>00594   }
<a name="l00595"></a>00595   
<a name="l00596"></a>00596   <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &gt;= 45 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &lt;= 135) {
<a name="l00597"></a>00597     CGFloat ph = <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &gt;= 0 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &lt; 180 ? <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.height : -<a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.height;
<a name="l00598"></a>00598     pointX = ((<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a>-45)/90) * fw;
<a name="l00599"></a>00599     
<a name="l00600"></a>00600     CGPathAddLineToPoint(path, nil, pointX-floor(<a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.width/2), 0);
<a name="l00601"></a>00601     CGPathAddLineToPoint(path, nil, pointX, -ph);
<a name="l00602"></a>00602     CGPathAddLineToPoint(path, nil, pointX+floor(<a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.width/2), 0);
<a name="l00603"></a>00603   }
<a name="l00604"></a>00604 
<a name="l00605"></a>00605   CGPathAddArcToPoint(path, nil, fw, 0, fw, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00606"></a>00606 }
<a name="l00607"></a>00607 
<a name="l00608"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">00608</a> - (void)addRightEdge:(CGSize)size lightSource:(NSInteger)lightSource toPath:(CGMutablePathRef)path
<a name="l00609"></a>00609         reset:(BOOL)reset {
<a name="l00610"></a>00610   CGFloat fw = size.width;
<a name="l00611"></a>00611   CGFloat fh = size.height;
<a name="l00612"></a>00612 
<a name="l00613"></a>00613   <span class="keywordflow">if</span> (reset) {
<a name="l00614"></a>00614     CGPathMoveToPoint(path, nil, fw, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00615"></a>00615   }
<a name="l00616"></a>00616   
<a name="l00617"></a>00617   CGPathAddArcToPoint(path, nil, fw, fh, fw-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), fh, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00618"></a>00618 }
<a name="l00619"></a>00619 
<a name="l00620"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">00620</a> - (void)addBottomEdge:(CGSize)size lightSource:(NSInteger)lightSource toPath:(CGMutablePathRef)path
<a name="l00621"></a>00621         reset:(BOOL)reset {
<a name="l00622"></a>00622   CGFloat fw = size.width;
<a name="l00623"></a>00623   CGFloat fh = size.height;
<a name="l00624"></a>00624   CGFloat pointX = 0;
<a name="l00625"></a>00625 
<a name="l00626"></a>00626   <span class="keywordflow">if</span> (reset) {
<a name="l00627"></a>00627     CGPathMoveToPoint(path, nil, fw-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), fh);
<a name="l00628"></a>00628   }
<a name="l00629"></a>00629   
<a name="l00630"></a>00630   <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &gt;= 225 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a> &lt;= 315) {
<a name="l00631"></a>00631     CGFloat ph;
<a name="l00632"></a>00632     <span class="keywordflow">if</span> (<a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &gt;= 0 &amp;&amp; <a class="code" href="interface_t_t_speech_bubble_shape.html#a8e7e74038d09a02befa6b88c1f9182c0">_pointAngle</a> &lt; 180) {
<a name="l00633"></a>00633       ph = <a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.height;
<a name="l00634"></a>00634     } <span class="keywordflow">else</span> {
<a name="l00635"></a>00635       ph = -<a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.height;
<a name="l00636"></a>00636     }
<a name="l00637"></a>00637 
<a name="l00638"></a>00638     pointX = fw - (((<a class="code" href="interface_t_t_speech_bubble_shape.html#a3fc7760bb2e06b7c39ee7646f65dd293">_pointLocation</a>-225)/90) * fw);
<a name="l00639"></a>00639     CGPathAddArcToPoint(path, nil,  fw-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), fh, floor(fw/2), fh, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00640"></a>00640     CGPathAddLineToPoint(path, nil, pointX+floor(<a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.width/2), fh);
<a name="l00641"></a>00641     CGPathAddLineToPoint(path, nil, pointX, fh-ph);
<a name="l00642"></a>00642     CGPathAddLineToPoint(path, nil, pointX-floor(<a class="code" href="interface_t_t_speech_bubble_shape.html#a36fcdc506102b1e94605936fcd389594">_pointSize</a>.width/2), fh);
<a name="l00643"></a>00643     CGPathAddLineToPoint(path, nil, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), fh);
<a name="l00644"></a>00644   }
<a name="l00645"></a>00645 
<a name="l00646"></a>00646   CGPathAddArcToPoint(path, nil, 0, fh, 0, fh-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00647"></a>00647 }
<a name="l00648"></a>00648 
<a name="l00649"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">00649</a> - (void)addLeftEdge:(CGSize)size lightSource:(NSInteger)lightSource toPath:(CGMutablePathRef)path
<a name="l00650"></a>00650         reset:(BOOL)reset {
<a name="l00651"></a>00651   CGFloat fh = size.height;
<a name="l00652"></a>00652 
<a name="l00653"></a>00653   <span class="keywordflow">if</span> (reset) {
<a name="l00654"></a>00654     CGPathMoveToPoint(path, nil, 0, fh-<a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00655"></a>00655   }
<a name="l00656"></a>00656   
<a name="l00657"></a>00657   <span class="keywordflow">if</span> (lightSource &gt;= 0 &amp;&amp; lightSource &lt;= 90) {
<a name="l00658"></a>00658     CGPathAddArcToPoint(path, nil, 0, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>), 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00659"></a>00659   } <span class="keywordflow">else</span> {
<a name="l00660"></a>00660     CGPathAddLineToPoint(path, nil, 0, <a class="code" href="_t_t_shape_8m.html#ab4bfdda8d1f90fc21418a3bb22e1dab4">RD</a>(<a class="code" href="interface_t_t_speech_bubble_shape.html#a111f1ad7eea98d1a28dde6709403c355">_radius</a>));
<a name="l00661"></a>00661   }
<a name="l00662"></a>00662 }
<a name="l00663"></a>00663 
<a name="l00664"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#a5b2cb21c0a858fe28099363d5f4381a5">00664</a> - (void)addToPath:(CGSize)size path:(CGMutablePathRef)path {
<a name="l00665"></a>00665   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">addTopEdge</a>:size <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">lightSource</a>:0 <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">reset</a>:YES];
<a name="l00666"></a>00666   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">addRightEdge</a>:size <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">lightSource</a>:0 <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">reset</a>:NO];
<a name="l00667"></a>00667   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">addBottomEdge</a>:size <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">lightSource</a>:0 <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">reset</a>:NO];
<a name="l00668"></a>00668   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">addLeftEdge</a>:size <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">lightSource</a>:0 <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">reset</a>:NO];
<a name="l00669"></a>00669 }
<a name="l00670"></a>00670 
<a name="l00671"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">00671</a> - (void)drawPath:(CGMutablePathRef)path inRect:(CGRect)rect {
<a name="l00672"></a>00672   CGContextRef context = UIGraphicsGetCurrentContext();
<a name="l00673"></a>00673   CGContextTranslateCTM(context, rect.origin.x, rect.origin.y);
<a name="l00674"></a>00674   CGContextAddPath(context, path);
<a name="l00675"></a>00675   CGContextTranslateCTM(context, -rect.origin.x, -rect.origin.y);
<a name="l00676"></a>00676 }
<a name="l00677"></a>00677 
<a name="l00679"></a>00679 <span class="comment">// public</span>
<a name="l00680"></a>00680 
<a name="l00681"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#af72ff1e86961e44932818310a75ece74">00681</a> - (void)addToPath:(CGRect)rect {
<a name="l00682"></a>00682   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00683"></a>00683   
<a name="l00684"></a>00684   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00685"></a>00685   rect = [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#aa355935e7730a2e6f3124bcc38d865d7">subtractPointFromRect</a>:rect];
<a name="l00686"></a>00686   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#a5b2cb21c0a858fe28099363d5f4381a5">addToPath</a>:rect.size <a class="code" href="interface_t_t_speech_bubble_shape.html#a5b2cb21c0a858fe28099363d5f4381a5">path</a>:path];
<a name="l00687"></a>00687   CGPathCloseSubpath(path);
<a name="l00688"></a>00688   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">drawPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">inRect</a>:rect];
<a name="l00689"></a>00689   CGPathRelease(path);
<a name="l00690"></a>00690   
<a name="l00691"></a>00691   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00692"></a>00692 }
<a name="l00693"></a>00693 
<a name="l00694"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#aa1ed309cd839b2c367962e79fb028fc2">00694</a> - (void)addInverseToPath:(CGRect)rect {
<a name="l00695"></a>00695   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#a670188fa8ee015333224c8c4277af6f1">openPath</a>:rect];
<a name="l00696"></a>00696 
<a name="l00697"></a>00697   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00698"></a>00698   rect = [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#aa355935e7730a2e6f3124bcc38d865d7">subtractPointFromRect</a>:rect];
<a name="l00699"></a>00699   CGRect shadowRect = CGRectMake(-<a class="code" href="_t_t_shape_8m.html#a815e081d904845b4b90cb56bee867cfc">kInsetWidth</a>, -<a class="code" href="_t_t_shape_8m.html#a815e081d904845b4b90cb56bee867cfc">kInsetWidth</a>,
<a name="l00700"></a>00700                                  rect.size.width+<a class="code" href="_t_t_shape_8m.html#a815e081d904845b4b90cb56bee867cfc">kInsetWidth</a>*2, rect.size.height+<a class="code" href="_t_t_shape_8m.html#a815e081d904845b4b90cb56bee867cfc">kInsetWidth</a>*2);
<a name="l00701"></a>00701   CGPathAddRect(path, nil, shadowRect);
<a name="l00702"></a>00702   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#a5b2cb21c0a858fe28099363d5f4381a5">addToPath</a>:rect.size <a class="code" href="interface_t_t_speech_bubble_shape.html#a5b2cb21c0a858fe28099363d5f4381a5">path</a>:path];
<a name="l00703"></a>00703   CGPathCloseSubpath(path);
<a name="l00704"></a>00704   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">drawPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">inRect</a>:rect];
<a name="l00705"></a>00705   CGPathRelease(path);
<a name="l00706"></a>00706 
<a name="l00707"></a>00707   [<span class="keyword">self</span> <a class="code" href="interface_t_t_shape.html#abfd858dcc4a2f41252908e879064f839">closePath</a>:rect];
<a name="l00708"></a>00708 }
<a name="l00709"></a>00709 
<a name="l00710"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#a643aaae4a0814c222c377ea04cb09330">00710</a> - (void)addTopEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00711"></a>00711   rect = [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#aa355935e7730a2e6f3124bcc38d865d7">subtractPointFromRect</a>:rect];
<a name="l00712"></a>00712 
<a name="l00713"></a>00713   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00714"></a>00714   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">addTopEdge</a>:rect.size <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">lightSource</a>:lightSource <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af5c6221ae85d3d5f2032797526c19186">reset</a>:YES];
<a name="l00715"></a>00715   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">drawPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">inRect</a>:rect];
<a name="l00716"></a>00716   CGPathRelease(path);
<a name="l00717"></a>00717 }
<a name="l00718"></a>00718 
<a name="l00719"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#a077abda02d367a11da6005c7cda6e0c2">00719</a> - (void)addRightEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00720"></a>00720   rect = [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#aa355935e7730a2e6f3124bcc38d865d7">subtractPointFromRect</a>:rect];
<a name="l00721"></a>00721 
<a name="l00722"></a>00722   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00723"></a>00723   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">addRightEdge</a>:rect.size <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">lightSource</a>:lightSource <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#add5e008643b6f1cdb08172aa7cdbd3fb">reset</a>:YES];
<a name="l00724"></a>00724   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">drawPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">inRect</a>:rect];
<a name="l00725"></a>00725   CGPathRelease(path);
<a name="l00726"></a>00726 }
<a name="l00727"></a>00727 
<a name="l00728"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#af4dba156cb31959143c2700412c17d84">00728</a> - (void)addBottomEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00729"></a>00729   rect = [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#aa355935e7730a2e6f3124bcc38d865d7">subtractPointFromRect</a>:rect];
<a name="l00730"></a>00730 
<a name="l00731"></a>00731   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00732"></a>00732   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">addBottomEdge</a>:rect.size <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">lightSource</a>:lightSource <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#a54982ca76cf34b5c16cec84b1d873ab7">reset</a>:YES];
<a name="l00733"></a>00733   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">drawPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">inRect</a>:rect];
<a name="l00734"></a>00734   CGPathRelease(path);
<a name="l00735"></a>00735 }
<a name="l00736"></a>00736 
<a name="l00737"></a><a class="code" href="interface_t_t_speech_bubble_shape.html#a265ff5573cb0b9e62fc151fa5defb71b">00737</a> - (void)addLeftEdgeToPath:(CGRect)rect lightSource:(NSInteger)lightSource {
<a name="l00738"></a>00738   rect = [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#aa355935e7730a2e6f3124bcc38d865d7">subtractPointFromRect</a>:rect];
<a name="l00739"></a>00739 
<a name="l00740"></a>00740   CGMutablePathRef path = CGPathCreateMutable();
<a name="l00741"></a>00741   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">addLeftEdge</a>:rect.size <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">lightSource</a>:lightSource <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">toPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#afba775131e3ca54fa5068704316fed32">reset</a>:YES];
<a name="l00742"></a>00742   [<span class="keyword">self</span> <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">drawPath</a>:path <a class="code" href="interface_t_t_speech_bubble_shape.html#af84717971248cdd275b059e00fee6dfa">inRect</a>:rect];
<a name="l00743"></a>00743   CGPathRelease(path);
<a name="l00744"></a>00744 }
<a name="l00745"></a>00745 
<a name="l00746"></a>00746 <span class="keyword">@end</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>

<div class="clearfix"></div>

</div> <!-- fixedwidth -->

<div class="clearfix"></div>
<div id="page-footer"></div>
</div> <!-- page -->

</div> <!-- pagewrapper -->

<div id="footer">
  <div class="copyright">Copyright 2009 All content licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License</a> unless otherwise noted.</div>

  <div class="attribution">
    <a href="http://github.com/jverkoey/three20.info">Source hosted on github</a> -
    Made with the <a href="http://github.com/jverkoey/Keystone">Keystone</a> framework.
    </div>
</div>

<noscript><p><img alt="Clicky" width="1" height="1" src="http://static.getclicky.com/155532ns.gif" /></p></noscript>
<script type="text/javascript">//<![CDATA[

  var is_ssl = ("https:" == document.location.protocol);
  var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
  document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));

//]]>

</script>

<script type="text/javascript">//<![CDATA[

  var feedback_widget_options = {};

  feedback_widget_options.display = "overlay";  
  feedback_widget_options.company = "three20";
  feedback_widget_options.placement = "left";
  feedback_widget_options.color = "#FC9";
  feedback_widget_options.style = "idea";

  var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);

//]]>
</script>

<script type="text/javascript">//<![CDATA[

var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));

//]]>
</script>

<script type="text/javascript" src="http://static.getclicky.com/js"></script>

<script type="text/javascript">//<![CDATA[
clicky.init(155532);
//]]>
</script>

<script type="text/javascript">//<![CDATA[

try {
var pageTracker = _gat._getTracker("UA-11762059-1");
pageTracker._trackPageview();
} catch(err) {}
//]]>
</script>

</body>
</html>
